"use strict";(()=>{var o={};o.canvases=[];var d=[{front:"#7b5cff",back:"#6245e0"},{front:"#b3c7ff",back:"#8fa5e5"},{front:"#5c86ff",back:"#345dd1"},{front:"#aa0000",back:"#330000"},{front:"#dddd00",back:"#666600"},{front:"#ffffff",back:"#cccccc"}],c=(t,e)=>Math.random()*(e-t)+t,b=(t,e)=>{let i=c(t[0],t[1]),a=e[1]-e[0]+1,s=e[1]-Math.abs(c(0,a)+c(0,a)-a);return s>=e[1]-1&&(s+=Math.random()<.25?c(1,3):0),{x:i,y:-s}};function y(){this.randomModifier=c(0,99),this.color=d[Math.floor(c(0,d.length))],this.dimensions={x:c(5,9),y:c(8,15)},this.position={x:c(o.canvasSize.width/2-o.canvasSize.width/4,o.canvasSize.width/2+o.canvasSize.width/4),y:c(o.canvasSize.height/3,o.canvasSize.height/2)},this.rotation=c(0,2*Math.PI),this.scale={x:1,y:1},this.velocity=b([-9,9],[6,11])}y.prototype.update=function(){this.velocity.x-=this.velocity.x*o.dragConfetti,this.velocity.y=Math.min(this.velocity.y+o.gravityConfetti,o.terminalVelocity),this.velocity.x+=Math.random()>.5?Math.random():-Math.random(),this.position.x+=this.velocity.x,this.position.y+=this.velocity.y,this.scale.y=Math.cos((this.position.y+this.randomModifier)*.09)};function m(){let t=d[Math.floor(c(0,d.length))];this.color=t.back,this.radius=c(1,2),this.position={x:c(o.canvasSize.width/2-o.canvasSize.width/4,o.canvasSize.width/2+o.canvasSize.width/4),y:c(o.canvasSize.height/3,o.canvasSize.height/2)},this.velocity={x:c(-6,6),y:c(-8,-12)}}m.prototype.update=function(){this.velocity.x-=this.velocity.x*o.dragSequins,this.velocity.y+=o.gravitySequins,this.position.x+=this.velocity.x,this.position.y+=this.velocity.y};var q=t=>{console.log("finished with canvas ".concat(t)),document.querySelector("#canvas".concat(t)).remove()},g=t=>{for(let e=0;e<o.confettiCount;e++)o.canvases[t].confetti.push(new y);for(let e=0;e<o.sequinCount;e++)o.canvases[t].sequins.push(new m);w(t)},w=t=>{let e=o.canvases[t].context,i=o.canvases[t].canvas,a=o.canvases[t].confetti,s=o.canvases[t].sequins;e.clearRect(0,0,i.width,i.height);for(let[r,n]of a.entries()){let l=n.dimensions.x*n.scale.x,h=n.dimensions.y*n.scale.y;e.translate(n.position.x,n.position.y),e.rotate(n.rotation),n.update(),e.fillStyle=n.scale.y>0?n.color.front:n.color.back,e.fillRect(-l/2,-h/2,l,h),e.setTransform(1,0,0,1,0,0)}for(let[r,n]of s.entries())e.translate(n.position.x,n.position.y),n.update(),e.fillStyle=n.color,e.beginPath(),e.arc(0,0,n.radius,0,2*Math.PI),e.fill(),e.setTransform(1,0,0,1,0,0);for(let[r,n]of a.entries())n.position.y>=i.height&&a.splice(r,1);for(let[r,n]of s.entries())n.position.y>=i.height&&s.splice(r,1);a.length>0||s.length>0?window.requestAnimationFrame(()=>{w(t)}):(console.log("it is done"),q(t))},S=t=>{o.confettiCount=150,o.sequinCount=100,o.gravityConfetti=.3,o.gravitySequins=.55,o.dragConfetti=.075,o.dragSequins=.02,o.terminalVelocity=3,o.disabled=!1;let e=document.createElement("canvas");e.id="canvas".concat(t),e.classList.add("confettiCanvas"),document.body.append(e);let i=document.querySelector("#canvas".concat(t)),a=i.getContext("2d");i.width=window.innerWidth,i.height=window.innerHeight,o.canvasSize={width:window.innerWidth,height:window.innerHeight},o.canvases.push({canvas:i,context:a,confetti:[],sequins:[]})};var C=()=>{console.log("it loads..."),document.body.classList.add("js")};window.addEventListener("load",C);var L=function(){var t=document.querySelector(".site-nav-main .site-nav"),e=document.querySelector(".post-feed"),i=window.scrollY,a=window.innerHeight,s=n(),r=!1;function n(){var u=getComputedStyle(document.querySelector("body")),p=u.height;return p}function l(){i=window.scrollY,f()}function h(){a=window.innerHeight,s=n(),f()}function f(){r||requestAnimationFrame(v),r=!0}function v(){var u=e.getBoundingClientRect().top+window.scrollY,p=s-a;i>=u-20?t.classList.add("fixed-nav-active"):t.classList.remove("fixed-nav-active"),r=!1}window.addEventListener("scroll",l,{passive:!0}),window.addEventListener("resize",h,!1),v()};window.addEventListener("load",function(){let t=document.querySelector("body");t.classList.contains("home-template")?L():t.classList.contains("post-template")&&console.log("about to init sticky nav")});var k=t=>{t.classList.add("mention-visible")},x=(t,e)=>{t.classList.add("winner-visible"),console.log("AotY winner ".concat(e," visible")),g(e)},E=()=>{let t=[],i=new Date().getMonth();return t.push("I play guitar, you know"),t.push("Now in colours!"),t.push("display: bloke;"),t.push("It\u2019s good for you"),t.push("HACKA L\xD6KEN!"),t.push("Always running"),t.push("Web stuff since 1997"),t.push("Disinformation superlayby"),t.push("At the forefront of the retreat"),t.push("Humour may have settled during transit"),t.push("More harmonies"),t.push("Do you have any grey poupon?"),t.push("He\u2019s beginning to believe"),t.push("It\u2019s not the years, it\u2019s the mileage"),t.push("Be excellent to each other"),t.push("Als\xF8 wik"),t.push("Als\xF8 als\xF8 wik"),t.push("I know where Bruce Lee lives"),t.push("It\u2019s all relative"),t.push("JEM777LNG #407"),t.push("Never put a sock in a toaster"),t.push("Never put jam on a magnet"),t.push("Thou shalt not question Stephen Fry"),t.push("Cough drop and roll"),t.push("R Tape loading error, 0:1"),i===5&&(t.push("HAPPY PRIDE"),t.push("He/Him for now at least")),t[Math.floor(Math.random()*t.length)]},M=()=>{let t=document.querySelector(".site-description"),e=document.body.classList.contains("home-template");t&&e&&(t.innerHTML=E())};window.addEventListener("load",M);var H=()=>{let t=document.querySelectorAll('iframe[src*="youtube.com"]'),e=0;for(let i of t){let a=i.parentNode,s=i.width,r=i.height,n;i.nextElementSibling&&i.nextElementSibling.tagName.toLowerCase()==="figcaption"&&(n=i.nextElementSibling);let l=document.createElement("figure");l.classList.add("kg-card"),l.classList.add("kg-embed-card");let h=document.createElement("div");h.classList.add("fluid-width-video-wrapper"),h.style.paddingTop="".concat(r/s*100,"%"),l.append(h),a.insertBefore(l,i),h.append(i),n&&l.append(n),i.setAttribute("name","fitvid".concat(e)),e++}};window.addEventListener("load",H);var z=()=>{let t=document.querySelectorAll(".aoty-winner");if(t.length>0){let i={threshold:1};t.forEach((a,s)=>{S(s);let r=(l,h)=>{l[0].isIntersecting&&(x(l[0].target,s),h.unobserve(l[0].target))};new IntersectionObserver(r,i).observe(a)})}let e=document.querySelectorAll(".aoty-mention");if(e.length>0){let i={threshold:1},a=(s,r)=>{s[0].isIntersecting&&(k(s[0].target),r.unobserve(s[0].target))};for(let s of e)new IntersectionObserver(a,i).observe(s)}};window.addEventListener("load",z);})();
//# sourceMappingURL=main-4de4f73.js.map */
